{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport request from \"@/utils/request\";\nvar url = \"/api/market\";\nexport default {\n  name: \"SchoolMarket\",\n  data: function data() {\n    return {\n      schoolId: \"\",\n      schools: [],\n      good: [],\n      baseApi: this.$store.state.baseApi\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.request.get(url + \"/schools\").then(function (res) {\n      if (res.code === \"200\") {\n        var schools = res.data;\n        _this.schools = schools;\n        _this.schoolId = schools[0].id;\n\n        _this.load();\n      }\n    });\n  },\n  methods: {\n    changeSchool: function changeSchool() {\n      this.load();\n    },\n    load: function load() {\n      var _this2 = this;\n\n      this.request.get(url + \"/schoolGood/\" + this.schoolId).then(function (res) {\n        _this2.good = res.data;\n      });\n    },\n    handleAddGood: function handleAddGood() {\n      this.$router.push(\"/addMarketGood\");\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACAA,sBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,kBADA;AAEAC,iBAFA;AAGAC,cAHA;AAIAC;AAJA;AAMA,GATA;AAUAC,SAVA,qBAUA;AAAA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,KAPA;AAQA,GAnBA;AAoBAC;AACAC,gBADA,0BACA;AACA;AACA,KAHA;AAIAC,QAJA,kBAIA;AAAA;;AACA;AACA;AACA,OAFA;AAGA,KARA;AASAC,iBATA,2BASA;AACA;AACA;AAXA;AApBA","names":["name","data","schoolId","schools","good","baseApi","created","methods","changeSchool","load","handleAddGood"],"sourceRoot":"src/views/front/market","sources":["SchoolMarket.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"main-box\">\r\n      <!--      选择学校-->\r\n      <span style=\"margin-right: 20px\">请选择学校</span>\r\n      <el-select v-model=\"schoolId\" placeholder=\"请选择\" @change=\"changeSchool\">\r\n        <el-option\r\n          v-for=\"item in schools\"\r\n          :key=\"item.id\"\r\n          :value=\"item.id\"\r\n          :label=\"item.name\"\r\n        >\r\n        </el-option>\r\n      </el-select>\r\n      <!--      商品列表-->\r\n      <div style=\"width: 1300px; margin: 20px auto\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col\r\n            :span=\"6\"\r\n            v-for=\"good in good\"\r\n            :key=\"good.id\"\r\n            style=\"margin-bottom: 20px\"\r\n          >\r\n            <!--            商品格子-->\r\n            <router-link :to=\"'/marketGood/' + good.id\">\r\n              <el-card :body-style=\"{ padding: '0px', background: '#e3f5f4' }\">\r\n                <img\r\n                  :src=\"baseApi + good.img\"\r\n                  style=\"width: 100%; height: 300px\"\r\n                />\r\n                <div style=\"padding: 5px 10px\">\r\n                  <span style=\"font-size: 18px\">{{ good.goodName }}</span\r\n                  ><br />\r\n                  <span style=\"color: red; font-size: 15px\"\r\n                    >￥{{ good.price }}</span\r\n                  >\r\n                </div>\r\n              </el-card>\r\n            </router-link>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n    <div class=\"footer\">\r\n      <button class=\"up-button\" @click=\"handleAddGood\">发布</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nconst url = \"/api/market\";\r\nexport default {\r\n  name: \"SchoolMarket\",\r\n  data() {\r\n    return {\r\n      schoolId: \"\",\r\n      schools: [],\r\n      good: [],\r\n      baseApi: this.$store.state.baseApi,\r\n    };\r\n  },\r\n  created() {\r\n    this.request.get(url + \"/schools\").then((res) => {\r\n      if (res.code === \"200\") {\r\n        let schools = res.data;\r\n        this.schools = schools;\r\n        this.schoolId = schools[0].id;\r\n        this.load();\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    changeSchool() {\r\n      this.load();\r\n    },\r\n    load() {\r\n      this.request.get(url + \"/schoolGood/\" + this.schoolId).then((res) => {\r\n        this.good = res.data;\r\n      });\r\n    },\r\n    handleAddGood() {\r\n      this.$router.push(\"/addMarketGood\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.main-box {\r\n  background-color: white;\r\n  width: 1300px;\r\n  border: white 2px solid;\r\n  border-radius: 40px;\r\n  padding: 20px 40px;\r\n  margin: 5px auto;\r\n}\r\n.footer {\r\n  position: fixed;\r\n  bottom: 0;\r\n  color: #333;\r\n  width: 100%;\r\n  text-align: center;\r\n  line-height: 60px;\r\n}\r\n.up-button {\r\n  color: #131313;\r\n  padding: 12px 25px;\r\n  font-size: 18px;\r\n  background-color: #ffb02a;\r\n  border-radius: 10px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}