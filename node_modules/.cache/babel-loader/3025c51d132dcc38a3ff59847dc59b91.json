{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"MessageItem\",\n  props: {\n    message: Object,\n    userId: Number,\n    index: Number\n  },\n  data: function data() {\n    return {\n      baseApi: this.$store.state.baseApi\n    };\n  },\n  created: function created() {},\n  methods: {\n    delMessage: function delMessage() {\n      var _this = this;\n\n      console.log('del');\n      this.request.delete(\"/api/market/message/\" + this.message.id).then(function (res) {\n        if (res.code === '200') {\n          _this.$message.success(\"删除成功\");\n\n          _this.$emit(\"del-message\", _this.index);\n        } else {\n          _this.$message.error(\"删除失败\");\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACAA,qBADA;AAEAC;AACAC,mBADA;AAEAC,kBAFA;AAGAC;AAHA,GAFA;AAOAC,MAPA,kBAOA;AACA;AACAC;AADA;AAGA,GAXA;AAYAC,SAZA,qBAYA,CACA,CAbA;AAcAC;AACAC,cADA,wBACA;AAAA;;AACAC;AACA;AACA;AACA;;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,OAPA;AAQA;AAXA;AAdA","names":["name","props","message","userId","index","data","baseApi","created","methods","delMessage","console"],"sourceRoot":"src/components","sources":["MessageItem.vue"],"sourcesContent":["<template>\r\n<div>\r\n  <div style=\"float: left\">\r\n    <img :src=\"baseApi + message.avatar\" class=\"avatar\"/>\r\n  </div>\r\n\r\n  <div style=\"display: inline-block;overflow: hidden;width: 800px\">\r\n    <div>\r\n      <span class=\"user\">{{message.nickname}}</span>\r\n\r\n      <el-popconfirm\r\n          @confirm=\"delMessage\"\r\n          title=\"确定删除？\"\r\n      >\r\n        <el-button size=\"mini\" style=\"float: right\" slot=\"reference\"  v-show=\"message.userId===userId\">删除</el-button>\r\n      </el-popconfirm>\r\n    </div>\r\n    <div style=\"margin: 12px 0\">\r\n      {{message.message}}\r\n    </div>\r\n    <span style=\"font-size: 10px\">{{ message.createTime }}</span>\r\n  </div>\r\n\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MessageItem\",\r\n  props:{\r\n    message: Object,\r\n    userId: Number,\r\n    index: Number,\r\n  },\r\n  data() {\r\n    return {\r\n      baseApi: this.$store.state.baseApi,\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  methods:{\r\n    delMessage(){\r\n      console.log('del')\r\n      this.request.delete(\"/api/market/message/\"+this.message.id).then(res=>{\r\n        if(res.code==='200'){\r\n          this.$message.success(\"删除成功\")\r\n          this.$emit(\"del-message\",this.index)\r\n        }else {\r\n          this.$message.error(\"删除失败\")\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.avatar{\r\n  width: 55px;\r\n  height: 55px;\r\n  border-radius: 50%;\r\n  position: relative;\r\n  top: 4px;\r\n}\r\n.user{\r\n  font-size: 14px;\r\n  font-weight: inherit;\r\n  color: #f69090;\r\n  position: relative;\r\n  word-wrap: break-word;\r\n  line-height: 16px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}