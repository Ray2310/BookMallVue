{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport request from \"@/utils/request\";\nexport default {\n  name: \"Aside\",\n  props: {\n    isCollapse: Boolean\n  },\n  data: function data() {\n    return {\n      role: 'user',\n      menuFlags: {\n        userMenu: false,\n        fileMenu: false,\n        avatarMenu: false,\n        goodMenu: false,\n        carouselMenu: false,\n        orderMenu: false,\n        categoryMenu: false,\n        incomeChartMenu: false,\n        incomeRankMenu: false\n      }\n    };\n  },\n  computed: {\n    userGroup: function userGroup() {\n      return this.menuFlags.userMenu;\n    },\n    fileGroup: function fileGroup() {\n      return this.menuFlags.fileMenu || this.menuFlags.avatarMenu;\n    },\n    GoodGroup: function GoodGroup() {\n      return this.menuFlags.goodMenu || this.menuFlags.orderMenu || this.menuFlags.categoryMenu || this.menuFlags.carouselMenu;\n    },\n    incomeGroup: function incomeGroup() {\n      return this.menuFlags.incomeChartMenu || this.menuFlags.incomeRankMenu;\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    request.post(\"http://localhost:9191/role\").then(function (res) {\n      if (res.code === '200') {\n        _this.role = res.data;\n        console.log(\"asider，role：\" + _this.role);\n\n        if (_this.role === 'admin') {\n          _this.menuFlags.userMenu = true;\n          _this.menuFlags.fileMenu = true;\n          _this.menuFlags.avatarMenu = true;\n          _this.menuFlags.categoryMenu = true;\n          _this.menuFlags.goodMenu = true;\n          _this.menuFlags.carouselMenu = true;\n          _this.menuFlags.orderMenu = true;\n          _this.menuFlags.incomeChartMenu = true;\n          _this.menuFlags.incomeRankMenu = true;\n        } else if (_this.role === 'user') {}\n\n        console.log(_this.menuFlags);\n      }\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AAEA;AACAA,eADA;AAEAC;AACAC;AADA,GAFA;AAKAC,MALA,kBAKA;AACA;AACAC,kBADA;AAEAC;AACAC,uBADA;AAEAC,uBAFA;AAGAC,yBAHA;AAIAC,uBAJA;AAKAC,2BALA;AAMAC,wBANA;AAOAC,2BAPA;AAQAC,8BARA;AASAC;AATA;AAFA;AAcA,GApBA;AAqBAC;AACAC;AACA;AACA,KAHA;AAIAC;AACA;AACA,KANA;AAOAC;AACA;AACA,KATA;AAUAC;AACA;AACA;AAZA,GArBA;AAmCAC,SAnCA,qBAmCA;AAAA;;AACAC;AACA;AACA;AACAC;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAVA,MAWA,4BAEA;;AACAA;AACA;AACA,KApBA;AAqBA;AAzDA","names":["name","props","isCollapse","data","role","menuFlags","userMenu","fileMenu","avatarMenu","goodMenu","carouselMenu","orderMenu","categoryMenu","incomeChartMenu","incomeRankMenu","computed","userGroup","fileGroup","GoodGroup","incomeGroup","created","request","console"],"sourceRoot":"src/components","sources":["Aside.vue"],"sourcesContent":["<template>\r\n  <el-menu :default-openeds=\"['2', 'good']\" style=\"height: 100%;\"\r\n           background-color=\"rgb(48,65,86)\"\r\n           text-color =\"#fff\"\r\n           :collapse-transition=\"false\"\r\n           :collapse=\"isCollapse\"\r\n           router\r\n  >\r\n    <div style=\"height: 60px;margin-left: 30px; line-height: 60px\">\r\n      <router-link to=\"/manage/home\">\r\n        <img src=\"../resource/logo.png\" style=\"width: 32px;position: relative; top: 7px;right: 6px;\">\r\n      </router-link>\r\n      <span slot=\"title\" style=\"color: aliceblue;font-size: 20px\" v-show=\"!isCollapse\">在线商城后台管理</span>\r\n    </div>\r\n    <el-menu-item index=\"/manage/home\">\r\n      <i class=\"el-icon-a-01\"></i><span slot=\"title\">主页</span>\r\n    </el-menu-item>\r\n    <el-menu-item index=\"/\">\r\n      <i class=\"el-icon-a-02\"></i><span slot=\"title\">前台</span>\r\n    </el-menu-item>\r\n\r\n    <el-submenu index=\"2\">\r\n      <template slot=\"title\" >\r\n        <i class=\"el-icon-menu\"></i><span slot=\"title\">系统管理</span></template>\r\n      <el-submenu v-show=\"userGroup\" index=\"user\">\r\n        <template slot=\"title\">用户</template>\r\n        <el-menu-item index=\"/manage/user\" v-if=\"menuFlags.userMenu\">用户管理</el-menu-item>\r\n      </el-submenu>\r\n      <el-submenu v-if=\"fileGroup\" index=\"file\">\r\n        <template slot=\"title\">文件</template>\r\n        <el-menu-item index=\"/manage/file\" v-if=\"menuFlags.fileMenu\">文件管理</el-menu-item>\r\n        <el-menu-item index=\"/manage/avatar\" v-if=\"menuFlags.avatarMenu\">头像管理</el-menu-item>\r\n      </el-submenu>\r\n      <el-submenu v-if=\"GoodGroup\" index=\"good\">\r\n        <template slot=\"title\">商品</template>\r\n        <el-menu-item index=\"/manage/category\" v-if=\"menuFlags.categoryMenu\">商品分类管理</el-menu-item>\r\n        <el-menu-item index=\"/manage/carousel\" v-if=\"menuFlags.carouselMenu\">轮播图管理</el-menu-item>\r\n        <el-menu-item index=\"/manage/good\" v-if=\"menuFlags.goodMenu\">商品管理</el-menu-item>\r\n        <el-menu-item index=\"/manage/order\" v-if=\"menuFlags.orderMenu\">订单管理</el-menu-item>\r\n      </el-submenu>\r\n      <el-submenu v-if=\"incomeGroup\" index=\"income\">\r\n        <template slot=\"title\">营收</template>\r\n        <el-menu-item index=\"/manage/incomeChart\" v-if=\"menuFlags.incomeChartMenu\">图表分析</el-menu-item>\r\n        <el-menu-item index=\"/manage/incomeRank\" v-if=\"menuFlags.incomeRankMenu\">收入排行榜</el-menu-item>\r\n      </el-submenu>\r\n    </el-submenu>\r\n  </el-menu>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"Aside\",\r\n  props: {\r\n    isCollapse: Boolean,\r\n  },\r\n  data() {\r\n    return{\r\n      role : 'user',\r\n      menuFlags: {\r\n        userMenu: false,\r\n        fileMenu: false,\r\n        avatarMenu: false,\r\n        goodMenu: false,\r\n        carouselMenu: false,\r\n        orderMenu: false,\r\n        categoryMenu: false,\r\n        incomeChartMenu: false,\r\n        incomeRankMenu: false,\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    userGroup: function (){\r\n      return this.menuFlags.userMenu\r\n    },\r\n    fileGroup: function (){\r\n      return this.menuFlags.fileMenu || this.menuFlags.avatarMenu\r\n    },\r\n    GoodGroup: function (){\r\n      return this.menuFlags.goodMenu ||this.menuFlags.orderMenu || this.menuFlags.categoryMenu || this.menuFlags.carouselMenu\r\n    },\r\n    incomeGroup: function () {\r\n      return this.menuFlags.incomeChartMenu || this.menuFlags.incomeRankMenu\r\n    }\r\n  },\r\n  created() {\r\n    request.post(\"http://localhost:9191/role\").then(res=>{\r\n      if(res.code==='200'){\r\n        this.role = res.data;\r\n        console.log(\"asider，role：\"+this.role)\r\n        if(this.role === 'admin'){\r\n          this.menuFlags.userMenu = true\r\n          this.menuFlags.fileMenu = true\r\n          this.menuFlags.avatarMenu = true\r\n          this.menuFlags.categoryMenu = true\r\n          this.menuFlags.goodMenu = true\r\n          this.menuFlags.carouselMenu = true\r\n          this.menuFlags.orderMenu = true\r\n          this.menuFlags.incomeChartMenu = true\r\n          this.menuFlags.incomeRankMenu = true\r\n        }\r\n        else if(this.role==='user'){\r\n\r\n        }\r\n        console.log(this.menuFlags)\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}